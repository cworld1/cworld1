{"title":"Hexo 主题之 Inside 拓展篇","date":"2022-02-14T15:15:28.000Z","date_formatted":{"ll":"2022年2月14日","L":"2022/02/14","MM-DD":"02-14"},"thumbnail":"https://cdn.jsdelivr.net/gh/cworld1/cworld1@gh-pages/post/hexo-inside/thumbnail.jpg","color":"#5f7c8c","link":"post/hexo-inside","comments":true,"tags":["Hexo","Inside"],"categories":["教程"],"updated":"2022-06-18T06:48:34.674Z","content":"<p><a href=\"https://github.com/ikeq/hexo-theme-inside\" target=\"_blank\">Inside</a> 是一款采用 SPA 打造的轻量级和功能丰富的 Hexo 主题。然而整体上作者采用了较为开放的丰富的自定义模式，所以很多功能都需要手动调整。</p>\n<h2 id=\"hexo-内部调整\">Hexo 内部调整<a title=\"#hexo-内部调整\" href=\"#hexo-内部调整\"></a></h2>\n<p>个人建议不要设置时区，因为设置了反而不好用。</p>\n<p>这里给出一些重要的配置项：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">zh-Hans</span> <span class=\"comment\"># 主题的配置写法</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">/post/:title/</span> <span class=\"comment\"># 个人在这里相对喜欢这种简单的格式</span></span><br><span class=\"line\"><span class=\"attr\">skip_render:</span> [<span class=\"string\">&quot;css/*&quot;</span>, <span class=\"string\">&quot;js/*&quot;</span>] <span class=\"comment\"># 便于在仓库内置各类文件</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repository:</span> <span class=\"string\">git@github.com:&lt;用户名&gt;/&lt;仓库&gt;.git</span> <span class=\"comment\"># 这种写法更不容易报错</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">&lt;分支&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"inside-主题配置\">Inside 主题配置<a title=\"#inside-主题配置\" href=\"#inside-主题配置\"></a></h2>\n<ul>\n<li>\n<p>想要像我那样侧栏用户名有漂亮的字体，配置应该额外调整：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">appearance:</span></span><br><span class=\"line\">  <span class=\"comment\"># ...</span></span><br><span class=\"line\">  <span class=\"attr\">font:</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">//fonts.googleapis.com/css?family=Lobster|Baloo+Bhaijaan|Inconsolata|Josefin+Sans|Montserrat</span></span><br><span class=\"line\">    <span class=\"attr\">base:</span> <span class=\"string\">&quot;Josefin Sans&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">logo:</span> <span class=\"string\">&quot;Lobster&quot;</span> <span class=\"comment\"># 就是这款字体</span></span><br><span class=\"line\">    <span class=\"attr\">menu:</span> <span class=\"string\">&quot;Baloo Bhaijaan&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>想要在社交按钮栏加上自定义的按钮，需要单独引入 svg 图标。比如添加一个酷安的按钮：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">sns:</span></span><br><span class=\"line\">  <span class=\"comment\"># ...</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">title:</span> <span class=\"string\">酷安</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">https://www.coolapk.com/u/1384771</span></span><br><span class=\"line\">    <span class=\"attr\">template:</span> <span class=\"string\">|</span></span><br><span class=\"line\">      <span class=\"string\">&lt;svg</span> <span class=\"string\">t=&quot;1644654153078&quot;</span> <span class=\"string\">class=&quot;icon&quot;</span> <span class=\"string\">viewBox=&quot;0</span> <span class=\"number\">0</span> <span class=\"number\">1922 </span><span class=\"number\">1024</span><span class=\"string\">&quot; version=&quot;</span><span class=\"number\">1.1</span><span class=\"string\">&quot; xmlns=&quot;</span><span class=\"string\">http://www.w3.org/2000/svg&quot;</span> <span class=\"string\">p-id=&quot;1687&quot;</span> <span class=\"string\">data-darkreader-inline-fill=&quot;&quot;</span> <span class=\"string\">width=&quot;18&quot;</span> <span class=\"string\">height=&quot;18&quot;&gt;&lt;path</span> <span class=\"string\">d=&quot;M513.810604</span> <span class=\"string\">0c308.858273</span> <span class=\"number\">0</span> <span class=\"number\">602.991192</span> <span class=\"number\">297.820939</span> <span class=\"number\">602.991192</span> <span class=\"number\">297.</span><span class=\"string\">820939l-132.287657</span> <span class=\"number\">102.</span><span class=\"string\">890399S723.386322</span> <span class=\"number\">178.321089</span> <span class=\"number\">513.810604</span> <span class=\"number\">178.</span><span class=\"string\">321089c-143.391802</span> <span class=\"number\">0</span><span class=\"number\">-329.062206</span> <span class=\"number\">104.787859</span><span class=\"number\">-329.062206</span> <span class=\"number\">323.556901</span> <span class=\"number\">0</span> <span class=\"number\">213.250375</span> <span class=\"number\">136.029126</span> <span class=\"number\">334.594235</span> <span class=\"number\">330.906216</span> <span class=\"number\">334.</span><span class=\"string\">594235C1023.05127</span> <span class=\"number\">836.485587</span> <span class=\"number\">1203.216369 </span><span class=\"number\">0</span> <span class=\"number\">1363.15081 </span><span class=\"string\">0c104.787859</span> <span class=\"number\">0</span> <span class=\"number\">175.047303</span> <span class=\"number\">244.772252</span> <span class=\"number\">297.820938</span> <span class=\"number\">450.406065</span> <span class=\"number\">147.06646</span> <span class=\"number\">246.349014</span> <span class=\"number\">261.475239</span> <span class=\"number\">472.814793</span> <span class=\"number\">261.47524</span> <span class=\"number\">481.660695</span> <span class=\"number\">0</span> <span class=\"number\">49.641277</span><span class=\"number\">-46.380854</span> <span class=\"number\">91.919878</span><span class=\"number\">-79.479494</span> <span class=\"number\">91.</span><span class=\"string\">919878S1206.891026</span> <span class=\"number\">577.255229</span> <span class=\"number\">1206.891026 </span><span class=\"number\">577.</span><span class=\"string\">255229l148.910469-108.462516</span> <span class=\"number\">189.345061</span> <span class=\"number\">128.</span><span class=\"string\">679812L1359.476153</span> <span class=\"number\">259.</span><span class=\"string\">230358c-57.912596</span> <span class=\"number\">57.899234</span><span class=\"number\">-336.424882</span> <span class=\"number\">764.769642</span><span class=\"number\">-834.628215</span> <span class=\"number\">764.</span><span class=\"string\">769642C329.970848</span> <span class=\"number\">1023.986638 </span><span class=\"number\">0</span> <span class=\"number\">880.581473</span> <span class=\"number\">0</span> <span class=\"number\">500.047343</span> <span class=\"number\">0</span> <span class=\"number\">284.952958</span> <span class=\"number\">162.687093</span> <span class=\"number\">0</span> <span class=\"number\">513.810604</span> <span class=\"string\">0z&quot;</span> <span class=\"string\">p-id=&quot;1688&quot;&gt;&lt;/path&gt;&lt;/svg&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在侧栏配置上，名称前面加上 Emoji 看起来会更加美观：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\"><span class=\"string\">🏠</span> <span class=\"attr\">Home:</span> <span class=\"string\">/</span></span><br><span class=\"line\"><span class=\"string\">🔍</span> <span class=\"attr\">Search:</span> <span class=\"string\">/search</span></span><br><span class=\"line\"><span class=\"string\">🔗</span> <span class=\"attr\">Link:</span> <span class=\"string\">/link</span></span><br><span class=\"line\"><span class=\"string\">🧑‍💻</span> <span class=\"attr\">About:</span> <span class=\"string\">/about</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"自动-ci-部署\">自动 CI 部署<a title=\"#自动-ci-部署\" href=\"#自动-ci-部署\"></a></h2>\n<p>这里采用 Star 数较高的一个自动 <a href=\"https://github.com/sma11black/hexo-action\" target=\"_blank\">Github Action</a> ，提到了整个流程。如果不太懂，也可以参考别人的一些教程。这里提几个点：</p>\n<ul>\n<li>运行命令 <code>$ ssh-keygen -t rsa -C &quot;username@example.com&quot;</code> 时会提示一些选项，建议全部按回车默认选项。这会在你的用户名文件夹根目录下生成一个 <code>.ssh</code> 文件夹，得到两个文件，其中带.pub 后缀的为公钥，另一个为私钥。两者可以填在同一个仓库不同分支，也可以填在不同的仓库。</li>\n<li>Github Actions 的配置文件应该在项目根目录下的 <code>.github</code> &gt; <code>workflows</code> ，默认名称为 <code>main.yml</code> ，当然你也可以随意命名。将整个项目一起上传上去，Github Actions 会自动执行并生成渲染文件。</li>\n<li>自定义域名应该在项目的 <code>source</code> 目录中放一个 CNAME 文件。</li>\n</ul>\n<h2 id=\"评论系统\">评论系统<a title=\"#评论系统\" href=\"#评论系统\"></a></h2>\n<h3 id=\"waline-+-leancloud-+-vercel\">Waline + Leancloud + Vercel<a title=\"#waline-+-leancloud-+-vercel\" href=\"#waline-+-leancloud-+-vercel\"></a></h3>\n<p>Waline 基于 Valine，是一个干净纯粹但功能丰富的评论系统框架。它支持 Markdown 语法，支持自定义表情、部分文字、配色、精选，以及后台管理、邮件自动发送等功能。</p>\n<h3 id=\"文档\">文档<a title=\"#文档\" href=\"#文档\"></a></h3>\n<p><a href=\"https://waline.js.org/\" target=\"_blank\">Waline 官网</a></p>\n<p><a href=\"https://github.com/walinejs/waline\" target=\"_blank\">Waline on Github</a></p>\n<h3 id=\"配置上手\">配置上手<a title=\"#配置上手\" href=\"#配置上手\"></a></h3>\n<p>除官网给出部分，博客这边配置也非常重要。由于 Inside 主题是直接通过变量达成夜间模式的切换的，所以就宣告着 Waline 自身夜间模式的报废。当然这并不影响夜间模式的效果。下面是我的配置。</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">position:</span> <span class=\"string\">comments</span></span><br><span class=\"line\">  <span class=\"attr\">template:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div id=&quot;waline&quot;&gt;评论正在努力加载中...&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;script&gt;</span></span><br><span class=\"line\"><span class=\"string\">      Waline.init(&#123;</span></span><br><span class=\"line\"><span class=\"string\">        el: &#x27;#waline&#x27;,</span></span><br><span class=\"line\"><span class=\"string\">        serverURL: &#x27;&lt;你的Vercel的url&gt;&#x27;,</span></span><br><span class=\"line\"><span class=\"string\">        locale: &#123;placeholder:&#x27;欢迎评论~&#x27;&#125;,</span></span><br><span class=\"line\"><span class=\"string\">        comment: true,</span></span><br><span class=\"line\"><span class=\"string\">        pageview: true,</span></span><br><span class=\"line\"><span class=\"string\">        emoji: [</span></span><br><span class=\"line\"><span class=\"string\">          &#x27;https://blog.cworld.top/static/img/bilibili&#x27;,</span></span><br><span class=\"line\"><span class=\"string\">          &#x27;https://blog.cworld.top/static/img/weibo&#x27;,</span></span><br><span class=\"line\"><span class=\"string\">        ],</span></span><br><span class=\"line\"><span class=\"string\">      &#125;);</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;link href=&quot;/css/comment.min.css&quot; rel=&quot;stylesheet&quot;&gt;</span></span><br></pre></td></tr></table></figure>\n<p>其中页面/文章访问数的功能完全仅用于统计数据，暂时不打算做效果呈现。Leancloud 可以轻松查询到。Emoji 则采用了较为经典的微博和 B 站表情。</p>\n<p>评论样式内容较多而且为了方便维护，故单独引用文件。</p>\n<p>文件这里贴一份仅供参考：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-pseudo\">:root</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">--waline-dark-grey</span>: <span class=\"built_in\">var</span>(--inside-foreground-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-theme-color</span>: <span class=\"built_in\">var</span>(--inside-accent-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-active-color</span>: <span class=\"built_in\">var</span>(--inside-accent-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-color</span>: <span class=\"built_in\">var</span>(--inside-foreground-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor</span>: <span class=\"built_in\">var</span>(--inside-background);</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor-light</span>: <span class=\"built_in\">var</span>(--inside-card-background);</span><br><span class=\"line\">  <span class=\"attr\">--waline-bgcolor-hover</span>: <span class=\"built_in\">var</span>(--inside-card-background);</span><br><span class=\"line\">  <span class=\"attr\">--waline-border-color</span>: <span class=\"built_in\">var</span>(--inside-border-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-disable-bgcolor</span>: <span class=\"built_in\">var</span>(--inside-card-background);</span><br><span class=\"line\">  <span class=\"attr\">--waline-disable-color</span>: <span class=\"built_in\">var</span>(--inside-foreground-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-code-bgcolor</span>: <span class=\"built_in\">var</span>(--inside-highlight-<span class=\"number\">00</span>);</span><br><span class=\"line\">  <span class=\"attr\">--waline-mobile-avatar-size</span>: <span class=\"built_in\">calc</span>(<span class=\"built_in\">var</span>(--waline-avatar-size) * <span class=\"number\">11</span> / <span class=\"number\">13</span>);</span><br><span class=\"line\">  <span class=\"attr\">--waline-badge-color</span>: <span class=\"built_in\">var</span>(--inside-accent-color);</span><br><span class=\"line\">  <span class=\"attr\">--waline-info-bgcolor</span>: <span class=\"built_in\">var</span>(--inside-background);</span><br><span class=\"line\">  <span class=\"attr\">--waline-avatar-radius</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#waline</span> <span class=\"selector-class\">.wl-editor</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">2em</span>) <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#waline</span> pre &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border-color</span>: <span class=\"built_in\">var</span>(--inside-highlight-<span class=\"number\">01</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"自定义小插件\">自定义小插件<a title=\"#自定义小插件\" href=\"#自定义小插件\"></a></h2>\n<h3 id=\"站点访问统计\">站点访问统计<a title=\"#站点访问统计\" href=\"#站点访问统计\"></a></h3>\n<p>Inside 提供了两个自定义片段位置。由于我的 <code>custom</code> 还有别的东西要放，这里就只写在 <code>copyright</code> 里。在主题配置文件修改：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span></span><br><span class=\"line\">  <span class=\"comment\"># Set to false to hide.</span></span><br><span class=\"line\">  <span class=\"attr\">copyright:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">    &lt;script async src=&quot;https://busuanzi.icodeq.com/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &amp;copy;2022 • &lt;a href=&quot;&quot;&gt;CWorld&lt;/a&gt; • 总访问 &lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt; 次</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"代码块快捷复制到剪贴板\">代码块快捷复制到剪贴板<a title=\"#代码块快捷复制到剪贴板\" href=\"#代码块快捷复制到剪贴板\"></a></h3>\n<p>先从 <a href=\"https://github.com/zenorocha/clipboard.js/blob/master/dist/clipboard.min.js\" target=\"_blank\">Github</a> 下载文件并放置好目录</p>\n<p>然后在主题配置文件修改：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins:</span></span><br><span class=\"line\">  <span class=\"comment\"># ...</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">js/clipboard.min.js</span> <span class=\"comment\"># 全局引入剪贴板JS文件</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">position:</span> [<span class=\"string\">post</span>, <span class=\"string\">page</span>] <span class=\"comment\"># 剪贴板</span></span><br><span class=\"line\">    <span class=\"attr\">template:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">      &lt;script&gt;</span></span><br><span class=\"line\"><span class=\"string\">        var elements = document.querySelectorAll(&quot;.highlight tr&gt;.code&quot;);</span></span><br><span class=\"line\"><span class=\"string\">        for (var i = 0; i &lt; elements.length; i++) &#123; elements[i].innerHTML = &#x27;&lt;button class=&quot;btn-copy&quot; data-clipboard-snippet=&quot;&quot;&gt;&lt;svg t=&quot;1644686763820&quot; class=&quot;icon&quot; viewBox=&quot;0 0 1024 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;2062&quot; data-darkreader-inline-fill=&quot;&quot; width=&quot;16&quot; height=&quot;16&quot;&gt;&lt;path d=&quot;M798.4 128h-72v-12.8c0-38.4-33.6-72-72-72h-97.6C555.2 17.6 537.6 0 512 0c-25.6 0-43.2 17.6-43.2 43.2h-97.6c-38.4 0-72 33.6-72 72V128h-72c-30.4 0-56 25.6-56 56v780.8c0 33.6 25.6 59.2 59.2 59.2h568c17.6 0 33.6-8 43.2-20.8 8-12.8 12.8-25.6 12.8-38.4V184C852.8 153.6 827.2 128 798.4 128zM384 128h256v84.8H384V128z m384 811.2H256V212.8h43.2v12.8c0 38.4 33.6 72 72 72h281.6c38.4 0 72-33.6 72-72v-12.8H768v726.4z&quot; p-id=&quot;2063&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/button&gt;&#x27; + elements[i].innerHTML &#125;;</span></span><br><span class=\"line\"><span class=\"string\">        new ClipboardJS(&#x27;.btn-copy&#x27;, &#123; target: (trigger) =&gt; trigger.nextElementSibling &#125;);</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;style&gt;</span></span><br><span class=\"line\"><span class=\"string\">        .btn-copy&#123;position:absolute;right:5px;top:5px;border:none;padding:3px 6px;border-radius:3px;background:var(--inside-background);fill:currentColor;opacity:0;transition:.3s&#125;.highlight:hover .btn-copy&#123;opacity:1&#125;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;/style&gt;</span></span><br></pre></td></tr></table></figure>\n<p>其实大部分自定义代码都是在用 SVG 写图标，所以不用担心代码量很大~</p>\n<h2 id=\"友链优化\">友链优化<a title=\"#友链优化\" href=\"#友链优化\"></a></h2>\n<p>这个主题最大的短板就是没有单独的友链支持。所以这里单独对友链介绍一下我的解决方案。</p>\n<p>在友链页面按照如下格式写：</p>\n<ul>\n<li>\n<p>提前引用 css 样式避免排版错乱</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/css/link.min.css&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>其 CSS 文件也贴出来仅供参考：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">  <span class=\"attribute\">flex-wrap</span>: wrap;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: <span class=\"number\">0.3s</span> ease;</span><br><span class=\"line\">  <span class=\"attribute\">list-style</span>: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"number\">10px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--inside-background);</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"built_in\">var</span>(--inside-accent-color);</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"built_in\">var</span>(--inside-accent-color);</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">2px</span> <span class=\"number\">4px</span> <span class=\"number\">1px</span> <span class=\"built_in\">rgb</span>(<span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">0</span> / <span class=\"number\">20%</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.03</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:active</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">0.97</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: solid <span class=\"number\">1px</span> <span class=\"built_in\">var</span>(--inside-border-color);</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">50px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">50px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: fit-content;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">list-style</span>: none;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:nth-child</span>(<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:nth-child</span>(<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">108px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">  <span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">  <span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0.8</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span><span class=\"selector-pseudo\">:nth-child</span>(<span class=\"number\">3</span>) <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: transparent;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">450px</span>) &#123;</span><br><span class=\"line\">  <span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.f</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &gt; <span class=\"selector-tag\">ul</span> &gt; <span class=\"selector-tag\">li</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: start;</span><br><span class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">100%</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>随后用一个 div 标签将需要优化展示的友链包裹起来即可。这样通过 Markdown 语法写出来的友链，真的是不知道要比手动写 html 标签要高到哪里去了。</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;f&quot;</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> ![](<span class=\"link\">https://gravatar.loli.net/avatar/1ffe42aa45a6b1444a786b1f32dfa8aa?s=400</span>)</span><br><span class=\"line\"><span class=\"bullet\">  -</span> CWorld&#x27;s Blog</span><br><span class=\"line\"><span class=\"bullet\">  -</span> 求知若愚，虚怀若谷</span><br><span class=\"line\"><span class=\"bullet\">  -</span> [](<span class=\"link\">https://blog.cworld.top</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"结尾\">结尾<a title=\"#结尾\" href=\"#结尾\"></a></h2>\n<p>静态博客能够折腾到这个地步真的已经做的很不错了。希望大家都能把博客折腾成各自喜欢的样子，然后长期坚持把内容写下去，否则，折腾一大圈，也不过是一时热情，只会拖累自己的产物罢了。</p>\n","prev":{"title":"米哈游游戏（原神/崩坏3）自动签到","link":"post/mihoyo-helper"},"next":{"title":"Chrome 小恐龙无敌化","link":"post/chrome-dinosaur"},"plink":"https://blog.cworld.top/post/hexo-inside/","toc":[{"id":"hexo-内部调整","title":"Hexo 内部调整","index":"1"},{"id":"inside-主题配置","title":"Inside 主题配置","index":"2"},{"id":"自动-ci-部署","title":"自动 CI 部署","index":"3"},{"id":"评论系统","title":"评论系统","index":"4","children":[{"id":"waline-+-leancloud-+-vercel","title":"Waline + Leancloud + Vercel","index":"4.1"},{"id":"文档","title":"文档","index":"4.2"},{"id":"配置上手","title":"配置上手","index":"4.3"}]},{"id":"自定义小插件","title":"自定义小插件","index":"5","children":[{"id":"站点访问统计","title":"站点访问统计","index":"5.1"},{"id":"代码块快捷复制到剪贴板","title":"代码块快捷复制到剪贴板","index":"5.2"}]},{"id":"友链优化","title":"友链优化","index":"6"},{"id":"结尾","title":"结尾","index":"7"}],"reward":true,"copyright":{"updated":"2022年6月18日","author":"CWorld","link":"<a href=\"https://blog.cworld.top/post/hexo-inside/\" title=\"Hexo 主题之 Inside 拓展篇\">https://blog.cworld.top/post/hexo-inside/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"2190 字约 15 分钟"}